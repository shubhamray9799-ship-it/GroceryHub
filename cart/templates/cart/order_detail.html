{% extends "base.html" %}
{% block content %}
<div class="container mt-4">
  <h2>Order #{{ order.id }}</h2>
  <div class="mb-3">
    <strong>Status:</strong> {{ order.get_status_display }} |
    <strong>Placed:</strong> {{ order.created_at|date:"M d, Y H:i" }}
  </div>

  <h5>Shipping</h5>
  <div>{{ order.full_name }}, {{ order.phone }}</div>
  <div>{{ order.address }}, {{ order.city }}, {{ order.postal_code }}, {{ order.country }}</div>

  <h5 class="mt-3">Items</h5>
  <table class="table">
    <thead>
      <tr><th>Product</th><th>Price</th><th>Qty</th><th>Subtotal</th></tr>
    </thead>
    <tbody>
      {% for it in order.items.all %}
      <tr>
        <td>{{ it.product.name }}</td>
        <td>₹{{ it.price|floatformat:2 }}</td>
        <td>{{ it.quantity }}</td>
        <td>₹{{ it.price|floatformat:2|floatformat:2 }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <div class="text-end mt-3">
    <h4>Total: ₹{{ order.total_amount|floatformat:2 }}</h4>
  </div>
</div>
{% endblock %}
