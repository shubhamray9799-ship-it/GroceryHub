{% extends "base.html" %}
{% block content %}
<div class="card p-4 mt-4">
  <h2>Checkout</h2>
  <div class="row">
    <div class="col-md-6">
      <form method="post" action="">
        {% csrf_token %}
        <div class="mb-3">
          <label class="form-label">Full name</label>
          <input name="full_name" class="form-control" required>
        </div>
        <div class="mb-3">
          <label class="form-label">Phone</label>
          <input name="phone" class="form-control" required>
        </div>
        <div class="mb-3">
          <label class="form-label">Address</label>
          <textarea name="address" class="form-control" rows="3" required></textarea>
        </div>
        <div class="mb-3">
          <div class="row">
            <div class="col"><input name="city" class="form-control" placeholder="City"></div>
            <div class="col"><input name="postal_code" class="form-control" placeholder="Postal code"></div>
          </div>
        </div>
        <div class="mb-3">
          <label class="form-label">Country</label>
          <input name="country" class="form-control">
        </div>

        <div class="mb-3">
          <label class="form-label">Payment method</label>
          <select name="payment_method" class="form-select">
            <option value="cod">Cash on Delivery</option>
            <option value="gateway">Test Online Payment (simulate)</option>
          </select>
        </div>

        <button class="btn btn-success" type="submit">Place Order</button>
      </form>
    </div>

    <div class="col-md-6">
      <h4>Order summary</h4>
      <ul class="list-group">
        {% for item in items %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div>
            <strong>{{ item.product.name }}</strong><br>
            <small>x{{ item.quantity }}</small>
          </div>
          <div>₹{{ item.product.price|floatformat:2 }}</div>
        </li>
        {% endfor %}
      </ul>

      <div class="mt-3 text-end">
        <h4>Total: ₹{{ grand_total|floatformat:2 }}</h4>
      </div>
    </div>
  </div>
</div>
{% endblock %}
